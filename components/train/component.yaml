name: Train
description: Model training, v1.    

inputs:
- {name: yaml_file, type: String, description: 'yaml file path'}
- {name: env_file, type: String, description: 'env file path'}
- {name: data_path, type: String, description: 'dataset path'}
- {name: bucket_name, type: String, description: 'Minio model saving bucket'}
- {name: remote_dir, type: String, description: 'Minio model saving dir'}

implementation:
  container:
    image: docker.io/capoolebugchat/kws-training:v0.4.0
    # command is a list of strings (command-line arguments). 
    # The YAML language has two syntaxes for lists and you can use either of them. 
    # Here we use the "flow syntax" - comma-separated strings inside square brackets.
    command: [
      python, 
      # Path of the program inside the container
      workspace/train.py/kfp-launcher,
      --yaml-file,
      {inputValue: yaml_file},
      --env-file, 
      {inputValue: env_file},
      --data-path, 
      {inputValue: data_path},
      --bucket-name, 
      {inputValue: bucket_name},
      --remote-dir, 
      {inputValue: remote_dir},
    ]